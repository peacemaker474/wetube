(()=>{var e=document.getElementById("videoContainer"),t=document.getElementById("videoControls"),n=document.querySelector("video"),u=document.getElementById("play"),a=u.querySelector("i"),d=document.getElementById("mute"),i=d.querySelector("i"),o=document.getElementById("currentTime"),l=document.getElementById("totalTime"),c=document.getElementById("volume"),r=document.getElementById("timeline"),s=document.getElementById("fullScreen"),m=s.querySelector("i"),f=null,v=null,E=.5;n.volume=E;var L=function(e){return new Date(1e3*e).toISOString().substr(14,5)},y=function(){n.paused?n.play():n.pause(),a.classList=n.paused?"fas fa-play":"fas fa-pause"},g=function(){t.classList.remove("showing")};u.addEventListener("click",(function(e){y()})),d.addEventListener("click",(function(e){n.muted?n.muted=!1:n.muted=!0,i.classList=n.muted?"fas fa-volume-mute":"fas fa-volume-up",c.value=n.muted?0:E})),c.addEventListener("input",(function(e){var t=e.target.value;n.muted&&(n.muted=!1,d.innerText="Mute"),E=t,n.volume=t})),n.addEventListener("loadedmetadata",(function(){l.innerText=L(Math.floor(n.duration)),r.max=Math.floor(n.duration)})),n.addEventListener("timeupdate",(function(){o.innerText=L(Math.floor(n.currentTime)),r.value=Math.floor(n.currentTime)})),n.addEventListener("ended",(function(){var t=e.dataset.id;fetch("/api/videos/".concat(t,"/view"),{method:"POST"})})),r.addEventListener("input",(function(e){n.currentTime=e.target.value})),s.addEventListener("click",(function(){document.fullscreenElement?(document.exitFullscreen(),m.classList="fas fa-expand"):(e.requestFullscreen(),m.classList="fas fa-compress")})),e.addEventListener("mousemove",(function(){f&&(clearTimeout(f),f=null),v&&(clearTimeout(v),v=null),t.classList.add("showing"),v=setTimeout(g,3e3)})),e.addEventListener("mouseleave",(function(){f=setTimeout(g,3e3)})),n.addEventListener("click",(function(){y()}))})();